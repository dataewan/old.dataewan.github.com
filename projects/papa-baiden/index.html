<!DOCTYPE html>
 <html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-d65d757d9a7aa57c997c.js" as="script"/><link rel="preload" href="/component---src-pages-projects-papa-baiden-index-js-a3bf663f0ffbf794d6e4.js" as="script"/><link rel="preload" href="/path---projects-papa-baiden-a0e39f21c11f6a62c5ab.js" as="script"/><link rel="preload" href="/app-79403d72c0042afbbb1b.js" as="script"/><link rel="preload" href="/commons-274821d43f3475e34724.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"231608221292675":"app-79403d72c0042afbbb1b.js","162898551421021":"component---src-pages-404-js-cd51d374be13da4bdeeb.js","35783957827783":"component---src-pages-index-js-cf39b1821ef963d4e5e1.js","140023062737705":"component---src-pages-projects-papa-baiden-index-js-a3bf663f0ffbf794d6e4.js","92755437227203":"component---src-pages-investigations-what-whisky-index-js-705aeda3dfe6af5efbe7.js","124117227127938":"component---src-pages-techniques-explaining-things-index-js-3e7df61adc26900dfc8a.js","239970304685731":"component---src-pages-techniques-programming-index-js-027da2df38aeaf2ed4e8.js","234118892582969":"component---src-pages-techniques-explaining-things-components-index-js-092094883377fc425ef3.js","21176041556457":"component---src-pages-techniques-explaining-things-react-index-js-7776e3ddc36f70ae9c78.js","15263475050933":"component---src-pages-techniques-programming-d-3-index-js-518fc7cebdf85b77fc03.js","274497920815981":"component---src-pages-techniques-programming-pandas-index-js-6fa77312c6fbebf8e047.js","213532663970930":"component---src-pages-techniques-programming-pandas-verbs-assign-js-7841e88f31335c284cf2.js","205116888891441":"component---src-pages-techniques-programming-pandas-verbs-drop-js-5197509d33d69b4eab58.js","29366768633658":"component---src-pages-techniques-programming-pandas-verbs-groupby-js-750ab1ade2cb21abff7a.js","187810446712651":"component---src-pages-techniques-programming-pandas-verbs-merge-js-a6f660970b7c034b2cc7.js","159481207458299":"component---src-pages-techniques-programming-pandas-verbs-pipe-js-1a422fa6434bd009d3b1.js","264896191400237":"component---src-pages-techniques-programming-pandas-verbs-query-js-2613b3e9a675a9b3ccc6.js","226441094201366":"component---src-pages-techniques-programming-pandas-verbs-rename-js-d48cf26dd7dfbb7fae2f.js","24654593284576":"component---src-pages-techniques-programming-pandas-verbs-sort-values-js-68dbac50de7a0a382de8.js","60335399758886":"path----557518bd178906f8d58a.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-a0e39f21c11f6a62c5ab.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","262928618858891":"path---projects-papa-baiden-a0e39f21c11f6a62c5ab.js","273162785680332":"path---investigations-what-whisky-a0e39f21c11f6a62c5ab.js","159774973892004":"path---techniques-explaining-things-a0e39f21c11f6a62c5ab.js","10074547084799":"path---techniques-programming-a0e39f21c11f6a62c5ab.js","128755388107707":"path---techniques-explaining-things-components-a0e39f21c11f6a62c5ab.js","98649923351531":"path---techniques-explaining-things-react-a0e39f21c11f6a62c5ab.js","38349878666534":"path---techniques-programming-d-3-a0e39f21c11f6a62c5ab.js","29237115166338":"path---techniques-programming-pandas-a0e39f21c11f6a62c5ab.js","273090537116981":"path---techniques-programming-pandas-verbs-assign-a0e39f21c11f6a62c5ab.js","133609101105679":"path---techniques-programming-pandas-verbs-drop-a0e39f21c11f6a62c5ab.js","217723426091541":"path---techniques-programming-pandas-verbs-groupby-a0e39f21c11f6a62c5ab.js","202288103320972":"path---techniques-programming-pandas-verbs-merge-a0e39f21c11f6a62c5ab.js","143678377711526":"path---techniques-programming-pandas-verbs-pipe-a0e39f21c11f6a62c5ab.js","29191315433034":"path---techniques-programming-pandas-verbs-query-a0e39f21c11f6a62c5ab.js","33979684678506":"path---techniques-programming-pandas-verbs-rename-a0e39f21c11f6a62c5ab.js","74933704940831":"path---techniques-programming-pandas-verbs-sort-values-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-d65d757d9a7aa57c997c.js"}
            //]]>
            </script><style id="glamor-styles"></style><script id="glamor-ids">
        // <![CDATA[
        window._glamor = []
        // ]]>
        </script><title data-react-helmet="true">Things I wish I could remember</title><meta data-react-helmet="true" name="description" content="dataewan things to remember"/><meta data-react-helmet="true" name="keywords" content="notebook, explaination"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.45em 'Constantia','Lucida Bright','Lucidabright','Lucida Serif','Lucida','DejaVu Serif','Bitstream Vera Serif','Liberation Serif','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Constantia','Lucida Bright','Lucidabright','Lucida Serif','Lucida','DejaVu Serif','Bitstream Vera Serif','Liberation Serif','Georgia',serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Open Sans','Helvetica Neue Light','Helvetica Neue','Helvetica','Arial',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Open Sans','Helvetica Neue Light','Helvetica Neue','Helvetica','Arial',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Open Sans','Helvetica Neue Light','Helvetica Neue','Helvetica','Arial',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Open Sans','Helvetica Neue Light','Helvetica Neue','Helvetica','Arial',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Open Sans','Helvetica Neue Light','Helvetica Neue','Helvetica','Arial',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Open Sans','Helvetica Neue Light','Helvetica Neue','Helvetica','Arial',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:1.45rem;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/commons-274821d43f3475e34724.js","/app-79403d72c0042afbbb1b.js","/path---projects-papa-baiden-a0e39f21c11f6a62c5ab.js","/component---src-pages-projects-papa-baiden-index-js-a3bf663f0ffbf794d6e4.js","/component---src-layouts-index-js-d65d757d9a7aa57c997c.js"
])
  </script><style id="gatsby-inlined-css">path{display:none}body{max-width:1400px;counter-reset:figure}.twitterlink{padding:0;margin:0}header{border-bottom:1px solid #000}header>a{text-decoration:none;color:#000}h6.figurelabel:before{counter-increment:figure;content:"Figure " counter(figure)}span.mono{white-space:pre;font-family:monospace}blockquote{font-style:oblique}.containerrow{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:87.5%;margin-left:auto;margin-right:auto;padding-left:12.5%;padding-bottom:1em}.content{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;width:55%;margin:0}.note{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;width:30%;font-size:70%}.fullwidth{width:100%}@media only screen and (max-width:750px) and (min-width:501px){.containerrow{padding-left:5%;width:95%}}@media only screen and (max-width:500px){.containerrow{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-left:0;width:100%}.content{width:100%}.note{margin-left:20%;width:80%;margin-top:1em}}path{display:inline}button{background-color:#247ba0;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="245424731"><!-- react-empty: 2 --><div class="containerrow" data-reactid="3"><header class="content" data-reactid="4"><a href="https://twitter.com/dataewan" data-reactid="5"><img src="./twitter.png" alt="twitter link" width="25" data-reactid="6"/></a><a href="/" data-reactid="7"><h1 data-reactid="8">dataewan</h1></a></header></div><section data-reactid="9"><div class="containerrow" data-reactid="10"><h2 class="content" id="papabaiden" data-reactid="11">Papa Baiden</h2></div><div class="containerrow" data-reactid="12"><p class="content" data-reactid="13"><!-- react-text: 14 -->I did a project to study homlessness data in England as part of a voluntary program. I created a data processing pipeline in python, and an interactive data visualisation in react/d3. You can find the visualisation <!-- /react-text --><a href="https://dataewan.github.io/tomorrow-today/" data-reactid="15">here</a><!-- react-text: 16 -->.<!-- /react-text --></p></div><section data-reactid="17"><div class="containerrow" data-reactid="18"><h3 class="content" id="vizforsocialgood" data-reactid="19">vizforsocialgood</h3></div><div class="containerrow" data-reactid="20"><p class="content" data-reactid="21"><!-- react-text: 22 -->I found a link to <!-- /react-text --><a href="https://www.vizforsocialgood.com/" data-reactid="23">vizforsocialgood.com</a><!-- react-text: 24 --> on twitter. They have a visualisation project underway all the time. The project that I worked on was from <!-- /react-text --><a href="https://www.vizforsocialgood.com/join-a-project/2018/1/1/tomorrow-today-papa-baiden" data-reactid="25">Papa Baiden</a><!-- react-text: 26 -->, a charity based in London. The project was to meet this requirement: <!-- /react-text --><i data-reactid="27">We need an in-depth dashboard that helps people understand the homelessness issues. The data visualisations will be featured on the website, Facebook group, Twitter, and Instagram.</i></p></div></section><section data-reactid="28"><div class="containerrow" data-reactid="29"><h3 class="content" id="therawdata" data-reactid="30">The raw data</h3></div><div class="containerrow" data-reactid="31"><p class="content" data-reactid="32"><!-- react-text: 33 -->The raw data came from two sources. First are some spreadsheets containing official UK government figures, called <!-- /react-text --><a href="https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/585706/Rough_Sleeping_Autumn_2016_Final_Tables.xls" data-reactid="34">Rough_Sleeping_Autumn_2016_Final_Tables</a><!-- react-text: 35 --> which contains statistics on rough sleeping, and <!-- /react-text --><a href="https://www.gov.uk/government/statistical-data-sets/live-tables-on-dwelling-stock-including-vacants" data-reactid="36">LT_615</a><!-- react-text: 37 -->, which contains information on vacant properties in each region.<!-- /react-text --></p></div><div class="containerrow" data-reactid="38"><p class="content" data-reactid="39">These spreadsheets were fairly tricky to work with. The tabular data only really makes sense when you are a human reading it: there&#x27;s a hierarchy in the regional data that is described by empty cells and gaps in the data. The codes for the regions changed at a point in time, which causes the black gaps in the data in Figure 1. The description of this change was recorded in quite bureaucratic language in a cell at the bottom of the spreadsheet, not machine readable.</p></div><figure class="containerrow" data-reactid="40"><figcaption class="note" data-reactid="41"><h6 class="figurelabel" data-reactid="42"></h6><!-- react-text: 43 -->Problems in the spreadsheet data caused by codes changing.<!-- /react-text --></figcaption><div class="content" data-reactid="44"><img src="/static/spreadsheet-problems.e58ad7e5.png" data-reactid="45"/></div></figure><div class="containerrow" data-reactid="46"><p class="content" data-reactid="47"><!-- react-text: 48 -->I think this is a really good illustration of how hard it is to maintain a publicly accessible dataset. The UK government invest a lot of time and effort in making this data available, and they generally do an excellent job. Even <!-- /react-text --><i data-reactid="49">they</i><!-- react-text: 50 --> find it difficult to make a correct and complete dataset in machine readable format. I wrote python code to parse these spreadsheets to make them repeatable. The code <!-- /react-text --><a href="https://github.com/dataewan/papabaiden-vizforgood-/blob/master/src/data/extract_lt_data.py" data-reactid="51">is complex</a><!-- react-text: 52 -->, with lots of logic to catch edge cases. I&#x27;m not sure that I would take this approach again. It is good for repeatability of this data, but hard to generalise.<!-- /react-text --></p></div></section><section data-reactid="53"><div class="containerrow" data-reactid="54"><h3 class="content" id="hexgridmap" data-reactid="55">hexgridmap</h3></div><div class="containerrow" data-reactid="56"><p class="content" data-reactid="57"><!-- react-text: 58 -->Since this is a project I&#x27;m doing in my spare time, I allowed myself to get lost in interesting ideas that don&#x27;t have a clear payoff. The biggest example is that I tried to avoid using a <!-- /react-text --><i data-reactid="59">choropleth map</i><!-- react-text: 60 -->. These are the nice looking maps where geographic areas are coloured to represent a variable. The problem with these maps is that while they look nice, they do a bad job at presenting information. It makes areas that are bigger look more important just because they have a larger area, you get a distorted picture.<!-- /react-text --></p></div><figure class="containerrow" data-reactid="61"><figcaption class="note" data-reactid="62"><h6 class="figurelabel" data-reactid="63"></h6><div data-reactid="64"><!-- react-text: 65 -->Illustration from <!-- /react-text --><a href="http://thewhyaxis.info/bitly/" data-reactid="66">thewhyaxis.info</a><!-- react-text: 67 -->. Not that many people read The Scotsman<!-- /react-text --></div></figcaption><div class="content" data-reactid="68"><img src="http://thewhyaxis.info/content/24-bitly/mediamap-in1.jpg" data-reactid="69"/></div></figure><div class="containerrow" data-reactid="70"><aside class="note" data-reactid="71"><a href="https://www.redblobgames.com/grids/hexagons/" data-reactid="72">redblobgames</a></aside><p class="content" data-reactid="73">To get around this problem, one solution is to use a hexagonal grid. You assign each region to a hexagon, and then try and arrange the hexagons on the grid to get them to represent geographic locations. Hexagons are good because they are a regular shape, you can make them have all the same area removing the distortion, and hexagons have a lot of immediate neighbours. The downside of hexagons is that geometric calculations are more complex with hexagons than a square grid. Fortunately there is fascinating tutorial from redblobgames that takes you through the calculations.</p></div><div class="containerrow" data-reactid="74"><p class="content" data-reactid="75"><!-- react-text: 76 -->I worked on a python package (<!-- /react-text --><a href="https://github.com/dataewan/hexgridmap" data-reactid="77">hexgridmap</a><!-- react-text: 78 -->) to convert from shapefiles to hexgridmaps. The grid geometry works well, and converting a shapefile to python objects also works well. Where it falls down is locating the regions on the hex grid. I tried a few different approaches.<!-- /react-text --><ul data-reactid="79"><li data-reactid="80">Assigning each region naively to the nearest hex on the grid. Where there are overlaps (multiple regions assigned to the same hex) sort them out by pushing them outwards. This sort of works, but doesn&#x27;t keep neighbouring regions close together (Figure 3).</li><li data-reactid="81">Try and create a function that describes a good placement, and use optimisation techniques like simulated annealing. This is less time consuming, but I couldn&#x27;t find a good function to describe a good placement. You get something that is very happy once it sorts out all the overlaps, and is happy to achieve that by scattering regions all over the place.</li><li data-reactid="82">I was starting to work on a branch that would create contiguous islands, and then place these next to each other. I stopped myself after just starting to explore this, and is where I would pick up again.</li></ul></p></div><figure class="containerrow" data-reactid="83"><figcaption class="note" data-reactid="84"><h6 class="figurelabel" data-reactid="85"></h6><!-- react-text: 86 -->Results from a naive assignment and then pushing overlaps out. The general shape looks okay, but note that the regions in red are regions in Greater London, and get spread out too much. We end up with Ealing on the coast.<!-- /react-text --></figcaption><div class="content" data-reactid="87"><img src="/static/hexgrid.aa0acf19.png" data-reactid="88"/></div></figure><div class="containerrow" data-reactid="89"><p class="content" data-reactid="90">I stopped working on this thread of work after a few sessions, because I wanted to meet the deadline.</p></div></section><section data-reactid="91"><div class="containerrow" data-reactid="92"><h3 class="content" id="buildingthevisualisation" data-reactid="93">Building the visualisation</h3></div><div class="containerrow" data-reactid="94"><p class="content" data-reactid="95">I used react and d3 to build the visualisation. All the interaction and DOM object creation and handling is done by react. Only using d3 for the convenience functions for creating things like scales that map between data and pixel space, or creating SVG path specifications from geographic data.</p></div><figure class="containerrow" data-reactid="96"><figcaption class="note" data-reactid="97"><h6 class="figurelabel" data-reactid="98"></h6><div data-reactid="99"><!-- react-text: 100 -->How the final <!-- /react-text --><a href="https://dataewan.github.io/tomorrow-today/" data-reactid="101">visualisation</a><!-- react-text: 102 --> looks.<!-- /react-text --></div></figcaption><div class="content" data-reactid="103"><img src="/static/visualisation.8e61c316.png" data-reactid="104"/></div></figure><section data-reactid="105"><div class="containerrow" data-reactid="106"><h4 class="content" id="whatworkedwell" data-reactid="107">What worked well</h4></div><div class="containerrow" data-reactid="108"><p class="content" data-reactid="109">I like the interactivity, it works smoothly. React handling state is a very good way of working. It wasn&#x27;t complex enough for me to need to reach for Redux. In particular I like the interaction between the table and the maps.</p></div><div class="containerrow" data-reactid="110"><p class="content" data-reactid="111">I like the scrolly bit in the left. You&#x27;re able to scroll over that bit, while highlighting parts of the visualisation. That&#x27;s quite neat.</p></div></section><section data-reactid="112"><div class="containerrow" data-reactid="113"><h4 class="content" id="whatdidntworkwell" data-reactid="114">What didn&#x27;t work well</h4></div><div class="containerrow" data-reactid="115"><p class="content" data-reactid="116">I didn&#x27;t do a good job of figuring out how the interactivity was going to work beforehand. Also I don&#x27;t think I did a good job of making it clear what things can be clicked on. The interactivity is unclear.</p></div><div class="containerrow" data-reactid="117"><p class="content" data-reactid="118">I think that the display is quite full, I wanted there to be more white space and for it to look neater. These both point to me needing to learn more about UI and design.</p></div></section></section></section></div></div><script>
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-39372029-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39372029-1', 'auto');
  ga('set', 'anonymizeIp', 1);</script></body></html>